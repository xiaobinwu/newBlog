---
title: 你不知道的javascript(上卷)读后感（一）
date: 2019-03-26 22:45:27
tag: javascript
categories:
- javascript
---
编译，顾名思义，就是源代码执行前会经历的过程，分三个步骤，
> * 分词／词法分析，将我们写的代码字符串分解成多个词法单元
> * 解析／语法分析，将词法单元集合生成抽象语法树（AST）
> * 代码生成，抽象语法树（AST）转换成可执行代码的过程

`Tip1`：js在语法分析和代码生成阶段有对运行性能进行优化，对冗余元素进行优化
`Tip2`：js的编译过程不是发生在构建之前，而是代码执行之前

理解作用域，首先知道三剑客，分别是
> * 引擎：负责整个代码编译及执行的过程
> * 编译器： 负责词法分析、语法分析、代码生成
> * 作用域：负责维护与收集所有声明的标识符，保证当前执行代码对这些标识符的访问权限

举例子，加深印象，对于`var a = 2`，三剑客如何协同工作，
编译器进行分词、语法分析，然后要代码生成时，遇到 `var a`，问一下当前作用域集合“你有没有这个名称的变量呀？”，作用域如果说有，那么忽略声明，继续编译，如果说没有，那么就要要求作用域收集一下，并且给它个名字`a`,然后编译器就生成了代码，引擎准备来执行了，先问当前作用域集合，“你这里有a这个变量吗？”，有引擎就拿来用，没有就继续找该变量，要么找到，就给它附个值`2`，没有那就给你报个错！